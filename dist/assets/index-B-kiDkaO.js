import{N as F,C as R}from"./index-DCyFIHIc.js";import{r as n,w as E,c,a as h,b as t,t as r,F as A,d as N,o as i,n as b,u as k,f as I,g as w,e as y}from"./index-B9O3EXh8.js";import{a as p}from"./axios-upsvKRUO.js";const z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAYAAAAbvf3sAAAAAXNSR0IArs4c6QAAASFJREFUKFONkT0vBFEUhp93LRItjahmFqVKhEIjGmRH4w9sJKLRaVSi0qhoRCL+gGZng0Y0EhHxCzCzFRpaCftxZMcus5sb3Ormvc+Tc+45InXsxB+nxhYw3Ywv6WJTC/FtC1PrYmFuBuwUcQwcNfMCxhJoXkF00chSgn+HFCofrbdVLeV2MAsUxKPfghVzw8ju6Xsf0Ozja5twPtTPW+8LphEtRg9JBSt5E5iuFMTZNPzTrl9DNqV8+UZW9MZQZg1sGbTtEsA2QIdYfU9W9J8Qg26wIzWeZaFvDvismc11vrmEsoLYT/4W+jHgpSWX8EE2M5lA1fo10POXANJKApkd/Kelxjq/Nm0UXEIFcM7fMYyqLPR2kVYxun8drahgtv8JI9RqEuTzOcgAAAAASUVORK5CYII=",V={class:"cartoon_box"},x=["src"],S={class:"cartoon_info"},T={class:"cartoon_name"},L={class:"cartoon_content"},U={class:"cartoon_status"},Y={class:"cartoon_pay_list"},q=["onClick"],B=["src"],P={__name:"index",setup(O){const v=w(),l=y(),d=n([]),_=n(0),e=n({}),m=n(0);async function g(o){try{const a=await p({url:"https://zt.juzhun.com/admin/CartoonEpisode/list",params:{pageNum:1,pageSize:1e3,cartoonId:o},method:"GET"}),s=await p({url:"https://zt.juzhun.com/admin/cartoon/getCartoonDetail/"+o,method:"POST"});e.value=s.data.data,d.value=a.data.data.list,_.value=a.data.data.total}catch{}}const f=()=>{l.push({path:"/read",query:{episodeId:d.value[0].id}})},C=(o,a)=>{if(o.freeFlag==1){l.push("/recharge");return}else m.value=a,l.push({path:"/read",query:{episodeId:o.id}})};return E(()=>v.query,o=>{g(o.cartoonId)},{immediate:!0}),(o,a)=>(i(),c(A,null,[h(F),a[1]||(a[1]=t("div",{class:"hidden_box_common"},null,-1)),t("div",V,[t("img",{src:e.value.coverImg,alt:"",class:"cartoon_img"},null,8,x),t("div",S,[t("div",T,r(e.value.cartoonName),1),t("div",L,r(e.value.content),1),t("div",{class:"cartoon_btn"},[t("div",{class:"cartoon_btn_item cartoon_btn_read",onClick:f},"开始阅读"),a[0]||(a[0]=t("div",{class:"cartoon_btn_item cartoon_btn_subscribe"},"订阅作品",-1))]),t("div",U,"完结 共"+r(_.value)+"话",1),t("div",Y,[(i(!0),c(A,null,N(d.value,(s,u)=>(i(),c("div",{class:b(["cartoon_pay_item",m.value==u&&"cartoon_pay_item_act"]),key:u,onClick:j=>C(s,u)},[t("div",null,r(s.episodeName),1),s.freeFlag==1?(i(),c("img",{key:0,src:k(z),alt:"",class:"cartoon_icon_lock"},null,8,B)):I("",!0)],10,q))),128))])])]),h(R)],64))}};export{P as default};
